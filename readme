Feature Set
===========

Propel Organization Data
- Organizations are stored as the 'propel_org' custom post type
- propel_orgs have a hierarchy and can belong to other propel_orgs
- propel_orgs have a special 'org_type' taxonomy to label relationships like 'Team' or 'League'
- propel_orgs have a 'org_id' post_meta


Selecting an Propel Organization
- A user has a user_meta for each 'propel_org' they belong to
- The user's org relationships can be selected on several 'Edit User' pages
  - /wp-admin/user-edit.php
  - /wp-admin/user-new.php
  - /wp-admin/profile.php
- The user's org relationships can also be selected according to different actions
  - userpro_before_form_submit
    -- /profile/register/
  - woocommerce_after_checkout_billing_form
    -- /checkout/


User Stories
============

Here is a set of user tracks this plugin covers:


USERPRO [Public, you should NOT see 'draft' orgs]

- New User User Pro Registration, select League and Team
  - Click [Activate your Key](http://strokeandturn.dev/activate-key/)
  - Complete registration
  - Select a currently available League and Team (don't create a new one)
  - Click the Register button
  - propel_okm_org_id and propel_org_team both equal 3273

- New User User Pro Registration, select League and create a new Team
  - Click [Activate your Key](http://strokeandturn.dev/activate-key/)
  - Complete registration
  - Select a currently available League and create a new Team
  - Click the Register button
  - propel_okm_org_id and propel_org_team both equal 3385


WOOCOMMERCE [Public, you should NOT see 'draft' orgs]

- New User Registration during WooCommerce Purchase, select League and Team
  - Add a key to the cart
  - During checkout, create a new user
  - Select a currently available League and Team (don't create a new one)
  - Enter CC information and purchase
  - propel_okm_org_id and propel_org_team both equal 3015

- New User Registration during WooCommerce Purchase, select League and create a new Team
  - Add a key to the cart
  - During checkout, create a new user
  - Select a currently available League and create a new Team
  - Enter CC information and purchase
  - propel_okm_org_id and propel_org_team both equal 3392


WP-ADMIN [Private, you SHOULD see 'draft' orgs]

/wp-admin/user-edit.php

- User Edit, select League and Team
  - Go to /wp-admin/users.php and select a user to edit
  - Select a currently available League and Team (don't create a new one)
  - Update User

- User Edit, select League and create a new Team
  - Go to /wp-admin/users.php and select a user to edit
  - Select a currently available League and create a new Team
  - Update User

/wp-admin/profile.php

- User Edit, select League and Team
  - Go to /wp-admin/users.php and select a user to edit
  - Select a currently available League and Team (don't create a new one)
  - Update User

- User Edit, select League and create a new Team
  - Go to /wp-admin/users.php and select a user to edit
  - Select a currently available League and create a new Team
  - Update User





TODO:
=====

- Add remove button for 'new_propel_org_' fields
- Adding a new org, but org name already exists (with or without parent) (should we overwrite or notify user?)
- Need to consider is/isnt org_admin for League/Team selection

